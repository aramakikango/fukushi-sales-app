<label for="visitType">種別</label>
<select id="visitType" onchange="onVisitTypeChange()">
  <option value="">-- 選択 --</option>
  <option value="訪問">訪問（自社スタッフ）</option>
  <option value="来訪">来訪（利用者・家族等が来所）</option>
</select>

<!-- 来訪向けフィールド -->
<div id="visitorFields" style="display:none; margin-top:8px;">
  <label for="visitorName">来訪者名</label>
  <input id="visitorName" type="text" placeholder="例: 山田 太郎">

  <label for="visitorRelation">来訪者区分</label>
  <select id="visitorRelation">
    <option value="">-- 選択 --</option>
    <option value="利用者本人">利用者本人</option>
    <option value="家族">家族</option>
    <option value="ケアマネ等">ケアマネ等</option>
    <option value="業者">業者</option>
    <option value="その他">その他</option>
  </select>

  <label for="diagnosis">疾患名 / 主な診断</label>
  <input id="diagnosis" type="text" placeholder="疾患名を入力">

  <label for="disabilityCategory">障害区分</label>
  <select id="disabilityCategory">
    <option value="">-- 選択 --</option>
    <option value="身体障害">身体障害</option>
    <option value="知的障害">知的障害</option>
    <option value="精神障害">精神障害</option>
    <option value="高齢による要介護">高齢（要介護）</option>
    <option value="その他">その他</option>
  </select>

  <label>希望サービス（複数選択可）</label>
  <label><input type="checkbox" id="wantsGroupHome"> グループホーム希望</label>
  <label><input type="checkbox" id="wantsHomeNursing"> 訪問看護希望</label>

  <label for="visitPurpose">来訪目的</label>
  <input id="visitPurpose" type="text" placeholder="面会／相談／契約等">
</div>

<script>
function onVisitTypeChange(){
  const t = document.getElementById('visitType').value;
  document.getElementById('visitorFields').style.display = (t === '来訪') ? 'block' : 'none';
  // 必要なら staffFields も切替
}
</script>